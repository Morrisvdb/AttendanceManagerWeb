{% extends 'base.html' %}
{% block title %}Attendances - Attendance Manager{% endblock %}

{% block content %}
    <h2 class="centered">Attendances for {{ meeting.group_name }} on {{ meeting.date_time.split("T")[0] }} at {{ meeting.date_time.split("T")[1][:5] }}</h2>
    <a href="{{ url_for('group_meetings', group_id=meeting.group_id) }}" class="return-button">< Back</a>
    <div class="form-container">
        <form method="POST" action="{{ url_for('meeting_attendance', meeting_id=meeting.id) }}">
            <table class="attendance-table">
                <th>
                    Name
                </th>
                <th>
                    Presence
                </th>
                <th>
                    Late?
                </th>
                <th>
                    Material
                </th>
                {% for attendance in attendances %}
                    <tr>
                        <td>{{ attendance.person.name }}</td>
                        <td>
                            <input type="checkbox" id="{{ attendance.person_id }}_presence" name="{{ attendance.person_id }}_presence" {% if attendance.presence %}checked{% endif %}>
                        </td>
                        <td>
                            <input type="checkbox" id="{{ attendance.person_id }}_late" name="{{ attendance.person_id }}_late"{% if attendance.presence == 2 %}checked{% endif %}>
                        </td>
                        <td>
                            <input type="checkbox" id="{{ attendance.person_id }}_material" name="{{ attendance.person_id }}_material" {% if attendance.material %}checked{% endif %}>
                        </td>

                    </tr>
                {% endfor %}
            </table>
            <button type="submit" class="button">Save Attendances</button>
        </form>
    </div>
{% endblock %}