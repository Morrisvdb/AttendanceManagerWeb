{% extends 'base.html' %}
{% block title %}{{ _('View Group') }} - Attendance Manager{% endblock %}

{% block content %}
    {% if group.start_day == 0 %}
        {% set day_name = _("Monday") %}
    {% else %}
        {% if group.start_day == 1 %}
            {% set day_name = _("Tuesday") %}
        {% else %}
            {% if group.start_day == 2 %}
                {% set day_name = _("Wednesday") %}
            {% else %}
                {% if group.start_day == 3 %}
                    {% set day_name = _("Thursday") %}
                {% else %}
                    {% if group.start_day == 4 %}
                        {% set day_name = _("Friday") %}
                    {% else %}
                        {% if group.start_day == 5 %}
                            {% set day_name = _("Saturday") %}
                        {% else %}
                            {% set day_name = _("Sunday") %}
                        {% endif %}
                    {% endif %}
                {% endif %}
            {% endif %}
        {% endif %}
    {% endif %}

    <h2 class="centered">{{ _('Group Details') }}</h2>
    <a href="{{ url_for('groups') }}" class="return-button">&lt; {{ _('Back') }}</a>
    <div class="form-container">
        <p><strong>{{ _('Group Name:') }}</strong> {{ group.group_name }}</p>
        <p><strong>{{ _('Meeting Frequency:') }}</strong> {{ group.frequency }} {{ _('days') }}</p>
        <p><strong>{{ _('Meeting Day:') }}</strong> {{ day_name }}</p>
        <p><strong>{{ _('Meeting Time:') }}</strong> {{ group.time }}</p>
        {% if next_meeting %}
            <a href="{{url_for('view_meeting', meeting_id=next_meeting.id)}}" class="no-link-style"><p><strong>{{ _('Next Meeting:') }}</strong> <i><u>{{ next_meeting.date_time.strftime('%Y-%m-%d') }}</u></i></p></a>
        
        {% else %}
            <p><strong>{{ _('Next Meeting:') }}</strong> {{ _('No upcoming meetings scheduled.') }}</p>
        {% endif %}
        <!-- TODO: Add a button to the next meeting. -->
        <a href="{{ url_for('group_people', group_id=group.id) }}" class="button">{{ _('People') }}</a>
        <a href="{{ url_for('group_meetings', group_id=group.id) }}" class="button">{{ _('Meetings') }}</a> <br> <br>
        <a href="{{ url_for('view_group_material_log', group_id=group.id) }}" class="button">{{ _('Materials') }}</a> 
        <a href="{{ url_for('group_tasks', group_id=group.id) }}" class="button">{{ _('Tasks') }}</a>
        <br> <br>
        <a href="{{ url_for('edit_group', group_id=group.id) }}" class="button">{{ _('Edit Group') }}</a>
        <a href="{{ url_for('delete_group', group_id=group.id) }}" class="button alert-danger" onclick="return confirm('Are you sure you want to delete this group?');">{{ _('Delete Group') }}</a>
    </div>
{% endblock %}